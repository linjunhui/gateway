package com.example.demov2;

import android.app.Activity;
import android.net.wifi.WifiInfo;
import android.net.wifi.WifiManager;
import android.os.Bundle;
import android.widget.EditText;

public class AddDeviceActivity extends Activity {
	
	protected EditText ssidEditText;
	protected EditText passEditText;
	
	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.add_device);
		
		ssidEditText = (EditText) findViewById(R.id.editText_hiflying_smartlinker_ssid);
		//passEditText.setText(getSSid());
		getSSid();
	}
	
//===========获取当前连接的SSID==========	
	private String getSSid(){

		WifiManager wm = (WifiManager) getSystemService(WIFI_SERVICE);
		if(wm != null){
			WifiInfo wi = wm.getConnectionInfo();
			if(wi != null){
				String ssid = wi.getSSID();
				if(ssid.length()>2 && ssid.startsWith("\"") && ssid.endsWith("\"")){
					return ssid.substring(1,ssid.length()-1);
				}else{
					return ssid;
				}
			}
		}

		return "";
	}
}
